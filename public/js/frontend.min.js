TkCookieManager=window.TkCookieManager||{},TkCookieManager=function(e){"use strict";var a,i,r,n={};return e.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),n.storage=a={data:null,get:function(e){if((void 0===e||!e)&&null!==a.data)return a.data;if(a.data={cookies:{cookiegroups:[],version:null},platforms:[]},"undefined"!=typeof Storage){var t=localStorage.getItem("tk-cookie-manager");t&&(a.data=JSON.parse(t))}else for(var o=decodeURIComponent(document.cookie).split(";"),n=0;n<o.length;n++)if(o[n]=o[n].trim(),0===o[n].indexOf("tk-cookie-manager=")){a.data=JSON.parse(o[n].substring(18,o[n].length));break}return a.data},set:function(e,t){var o=a.get();if(o[e]=t,a.data=o,o=JSON.stringify(o),"undefined"!=typeof Storage)localStorage.setItem("tk-cookie-manager",o);else{var n=new Date;n.setTime(n.getTime()+31536e6),document.cookie="tk-cookie-manager="+o+";expires="+n.toUTCString()+";path=/"}}},n.infobox=((i={container:document.getElementById("tk-cookie-manager-infobox"),includedCookieGroupJS:[],show:function(){i.container.style.display="block",i.container.style.opacity=0,function e(){var t=parseFloat(i.container.style.opacity);i.container.style.opacity=t+=.075,1<t||requestAnimationFrame(e)}()},hide:function(){i.container.style.opacity=1,function e(){(i.container.style.opacity-=.075)<0?i.container.style.display="none":requestAnimationFrame(e)}()},setup:function(t,e){if(i.container.querySelectorAll('input[type="checkbox"]:not(:required)').forEach(function(e){e.checked=t&&-1<t.indexOf(parseInt(e.value))}),e){var o,n=JSON.parse(document.getElementById("tk-cookie-manager-cookiegroup-html").innerHTML),a=document.getElementsByTagName("body")[0];i.container.querySelectorAll('input[type="checkbox"]:checked').forEach(function(e){-1===i.includedCookieGroupJS.indexOf(e.value)&&(i.includedCookieGroupJS.push(e.value),n[e.value]&&((o=document.createRange()).selectNode(a),a.appendChild(o.createContextualFragment(n[e.value]))))})}},save:function(){var t={cookieGroups:[],version:i.container.getAttribute("data-version")};i.container.querySelectorAll('input[type="checkbox"]:checked').forEach(function(e){t.cookieGroups.push(parseInt(e.value))}),i.setup(t.cookieGroups,!0),n.storage.set("cookies",t)}}).container.getAttribute("data-version")!==n.storage.get().cookies.version?(i.setup(n.storage.get().cookies.cookieGroups,!1),document.getElementsByTagName("body")[0].classList.contains("tk-disable-cookie-infobox")||i.show()):i.setup(n.storage.get().cookies.cookieGroups,!0),document.querySelectorAll("[data-tk-cookie-manager-infobox-opener]").forEach(function(e){e.addEventListener("click",function(){i.show()},!1)}),i.container.querySelector(".tk-cookie-manager-infobox__individual-settings-button").addEventListener("click",function(){var e=i.container.querySelector(".tk-cookie-manager-infobox__wrapper").classList;e.remove("tk-cookie-manager-infobox__wrapper--state-simple"),e.add("tk-cookie-manager-infobox__wrapper--state-advanced")}),i.container.querySelector(".tk-cookie-manager-infobox__accept-all-button").addEventListener("click",function(){i.container.querySelectorAll('input[type="checkbox"]').forEach(function(e){e.checked=!0}),i.save(),i.hide()}),i.container.querySelector(".tk-cookie-manager-infobox__save-button").addEventListener("click",function(){i.save(),i.hide()}),i),n.embeddedContents=(r={allow:function(e){var t=n.storage.get().platforms;-1===t.indexOf(e)&&(t.push(e),n.storage.set("platforms",t))},allowAll:function(){n.storage.set("platforms",["*"])},disallow:function(e){var t=n.storage.get().platforms,o=t.indexOf(e);-1<o&&(t.splice(o,1),n.storage.set("platforms",t))},disallowAll:function(){n.storage.set("platforms",[])},isAllowed:function(e){var t=n.storage.get().platforms;return-1<t.indexOf("*")||-1<t.indexOf(e)},isDisallowed:function(e){return!r.isAllowed(e)}},document.querySelectorAll(".tk-cookie-manager-embedded-contents-table input").forEach(function(e){r.isAllowed(e.value)&&(e.checked=!0),e.addEventListener("change",function(){e.checked?r.allow(e.value):r.disallow(e.value)},!1)}),document.querySelectorAll(".tk-cookie-manager-embed-spoiler").forEach(function(n){r.isAllowed(n.getAttribute("data-platform"))&&n.click(),n.addEventListener("click",function(e){if("a"!==e.target.tagName.toLowerCase()){var t=document.getElementById(n.getAttribute("data-id")),o=document.createElement("div");o.className="tk-cookie-manager-embed-container",o.innerHTML=JSON.parse(t.innerHTML),r.allow(n.getAttribute("data-platform")),n.parentNode.replaceChild(o,n),t.remove()}},!1)}),r),n}(window);
//# sourceMappingURL=frontend.min.js.map
